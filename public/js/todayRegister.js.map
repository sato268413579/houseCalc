{"version":3,"sources":["webpack://my-webpack-project/./resources/js/todayRegister.js"],"names":["window","todayRegister","document","getElementById","value","isNaN","checked","innerText","type","reader","FileReader","onloadend","event","formData","FormData","append","files","$","ajax","headers","attr","url","processData","contentType","data","success","alert","location","reload","error","jqXHR","textStatus","errorThrown","console","log","readAsArrayBuffer"],"mappings":"AAAAA,OAAOC,cAAgB,WACnB,GAA4C,IAAxCC,SAASC,eAAe,OAAOC,OAAuD,KAAxCF,SAASC,eAAe,OAAOC,OAAgBC,MAAMH,SAASC,eAAe,OAAOC,SAAYF,SAASC,eAAe,OAAOG,UAAYJ,SAASC,eAAe,SAASG,QAC1NJ,SAASC,eAAe,YAAYI,UAAY,2CADpD,CAKA,IAAIC,EAAON,SAASC,eAAe,OAAOG,QAAU,IAAM,IACtDG,EAAS,IAAIC,WAEjBD,EAAOE,UAAY,SAAcC,GAC7B,IAAIC,EAAW,IAAIC,SACnBD,EAASE,OAAO,QAASb,SAASC,eAAe,SAASC,OAC1DS,EAASE,OAAO,MAAOb,SAASC,eAAe,OAAOC,OACtDS,EAASE,OAAO,OAAQP,GACxBK,EAASE,OAAO,QAASb,SAASC,eAAe,SAASa,MAAM,IAEhEC,EAAEC,KAAK,CACHC,QAAS,CAAE,eAAgBF,EAAE,2BAA2BG,KAAK,YAC7DC,IAAK,iBAELb,KAAM,OACNc,aAAa,EACbC,aAAa,EAObC,KAAMX,EACNY,QAAS,SAAUD,GACfE,MAAM,iBACNC,SAASC,UAEbC,MAAO,SAAUC,EAAOC,EAAYC,GAAeN,MAAM,gBAAiBO,QAAQC,IAAIJ,GAAQG,QAAQC,IAAIH,GAAaE,QAAQC,IAAIF,OAI3IvB,EAAO0B,kBAAkBjC,SAASC,eAAe,SAASa,MAAM","file":"/js/todayRegister.js","sourcesContent":["window.todayRegister = function() {\r\n    if (document.getElementById('pay').value == '' || document.getElementById('pay').value == '0' || isNaN(document.getElementById('pay').value) || (!document.getElementById('eat').checked && !document.getElementById('other').checked)) {\r\n        document.getElementById('payError').innerText = '金額が未入力、0または種別を選択しておりません。再度入力をお願いします。';\r\n        return;\r\n    }\r\n\r\n    var type = document.getElementById('eat').checked ? '1' : '2';\r\n    var reader = new FileReader();\r\n\r\n    reader.onloadend = function func(event){\r\n        var formData = new FormData();\r\n        formData.append('today', document.getElementById('today').value);\r\n        formData.append('pay', document.getElementById('pay').value);\r\n        formData.append('type', type);\r\n        formData.append('image', document.getElementById('image').files[0]);\r\n        \r\n        $.ajax({\r\n            headers: { 'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content') },\r\n            url: '/todayRegister',\r\n            // dataType: 'JSON',\r\n            type: 'POST',\r\n            processData: false, // jQueryがデータを処理しないよう指定\r\n            contentType: false,  // jQueryがcontentTypeを設定しないよう指定\r\n            // data: JSON.stringify({\r\n            //     'today': document.getElementById('today').value,\r\n            //     'pay': document.getElementById('pay').value,\r\n            //     'type': type,\r\n            //     'image': uaJoin,\r\n            // }),\r\n            data: formData,\r\n            success: function (data) {\r\n                alert('データ登録に成功しました！');\r\n                location.reload();\r\n            },\r\n            error: function (jqXHR, textStatus, errorThrown) { alert('データ登録に失敗しました'); console.log(jqXHR); console.log(textStatus); console.log(errorThrown); }\r\n        });\r\n    }\r\n\r\n    reader.readAsArrayBuffer(document.getElementById('image').files[0]);\r\n}"],"sourceRoot":""}