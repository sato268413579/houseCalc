{"version":3,"sources":["webpack://my-webpack-project/./resources/js/beforeMonthShow.js"],"names":["window","btnCreateShow","type","document","getElementsByName","i","length","checked","id","$","ajax","headers","attr","url","dataType","data","JSON","stringify","getElementById","value","success","elementCheck","remove","label","createElement","innerHTML","style","appendChild","table","className","oldDay","row","insertRow","insertCell","createTextNode","img","src","width","sum","error","jqXHR","textStatus","errorThrown","alert","console","log"],"mappings":"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","file":"/js/beforeMonthShow.js","sourcesContent":["window.btnCreateShow = function () {\r\n\r\n    var type = document.getElementsByName('gender');\r\n    for (i = 0; i < type.length; i++){\r\n        if (type[i].checked){\r\n            type = type[i].id;\r\n        }\r\n    }\r\n\r\n    $.ajax({\r\n        headers: { 'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content') },\r\n        url: '/getBeforeData',\r\n        type: 'POST',\r\n        dataType: 'JSON',\r\n        data: JSON.stringify({ 'toMonth': document.getElementById('toMonth').value,\r\n                               'type': type,}),\r\n        success: function (data) {\r\n            var elementCheck = document.getElementById('msg');\r\n            if (elementCheck != null) {\r\n                elementCheck.remove();\r\n            }\r\n            var elementCheck = document.getElementById('tblMonth');\r\n            if (elementCheck != null) {\r\n                elementCheck.remove();\r\n            }\r\n            if (data['data'] == null) {\r\n                const label = document.createElement('label');\r\n                label.id = 'msg';\r\n                label.innerHTML = 'データがありません';\r\n                label.style = 'color:red;';\r\n\r\n                var parent = document.getElementById('errMsg');\r\n                parent.appendChild(label);\r\n            }\r\n            else {\r\n                \r\n                const table = document.createElement('table');\r\n                switch (type){\r\n                    case 'registerDay':\r\n                        \r\n                        table.id = 'tblMonth';\r\n                        table.className = 'table';\r\n\r\n                        oldDay = '';\r\n\r\n                        for(i = 0; i < data['data'].length; i++){\r\n                            row = table.insertRow();\r\n                            if (oldDay == data['data'][i]['day']){\r\n                                row.insertCell().appendChild(document.createTextNode(''));\r\n                                row.insertCell().appendChild(document.createTextNode('金額'));\r\n                                row.insertCell().appendChild(document.createTextNode(data['data'][i]['pay']));\r\n                            }\r\n                            else{\r\n                                row.insertCell().appendChild(document.createTextNode(data['data'][i]['day']));\r\n                                row.insertCell().appendChild(document.createTextNode('金額'));\r\n                                row.insertCell().appendChild(document.createTextNode(data['data'][i]['pay']));\r\n                            }\r\n\r\n                            if (data['data'][i]['image']){\r\n                                row.insertCell().appendChild(document.createTextNode(data['data'][i]['day']));\r\n                                row.insertCell().appendChild(document.createTextNode('画像'));\r\n\r\n                                var img = document.createElement('img');\r\n                                img.src = 'storage/' + data['data'][i]['image'];\r\n                                img.width = 150;\r\n                                row.insertCell().appendChild(img);\r\n                            }\r\n                            \r\n                            oldDay = data['data'][i]['day'];\r\n                        }\r\n\r\n                        \r\n                        document.getElementById('tableShowData').appendChild(table);\r\n                        break;\r\n                    case 'sum':\r\n                        // createSumData();\r\n                        // const table = document.createElement('table');\r\n                        table.id = 'tblMonth';\r\n                        table.className = 'table';\r\n\r\n                        row = table.insertRow();\r\n                        row.insertCell().appendChild(document.createTextNode('家賃'));\r\n                        row.insertCell().appendChild(document.createTextNode(data['data']['yatin']));\r\n\r\n                        row = table.insertRow();\r\n                        row.insertCell().appendChild(document.createTextNode('食費'));\r\n                        row.insertCell().appendChild(document.createTextNode(data['data']['eat']));\r\n\r\n                        row = table.insertRow();\r\n                        row.insertCell().appendChild(document.createTextNode('ガス代'));\r\n                        row.insertCell().appendChild(document.createTextNode(data['data']['gasu']));\r\n\r\n                        row = table.insertRow();\r\n                        row.insertCell().appendChild(document.createTextNode('電気代'));\r\n                        row.insertCell().appendChild(document.createTextNode(data['data']['denki']));\r\n\r\n                        row = table.insertRow();\r\n                        row.insertCell().appendChild(document.createTextNode('水道代'));\r\n                        row.insertCell().appendChild(document.createTextNode(data['data']['suidou']));\r\n\r\n                        row = table.insertRow();\r\n                        row.insertCell().appendChild(document.createTextNode('通信費'));\r\n                        row.insertCell().appendChild(document.createTextNode(data['data']['tuushin']));\r\n\r\n                        row = table.insertRow();\r\n                        row.insertCell().appendChild(document.createTextNode('ローン'));\r\n                        row.insertCell().appendChild(document.createTextNode(data['data']['loan']));\r\n\r\n                        row = table.insertRow();\r\n                        row.insertCell().appendChild(document.createTextNode('備考'));\r\n                        row.insertCell().appendChild(document.createTextNode(data['data']['comment']));\r\n\r\n                        sum = data['data']['yatin'] + data['data']['eat'] + data['data']['gasu'] + data['data']['denki'] + data['data']['suidou'] + data['data']['tuushin'] + data['data']['loan'];\r\n\r\n                        row = table.insertRow();\r\n                        row.insertCell().appendChild(document.createTextNode('合計'));\r\n                        row.insertCell().appendChild(document.createTextNode(sum));\r\n\r\n                        document.getElementById('tableShowData').appendChild(table);\r\n                        break;\r\n                }\r\n                \r\n            }\r\n\r\n        },\r\n        error: function (jqXHR, textStatus, errorThrown) { \r\n            alert('データチェックに失敗');\r\n            console.log(jqXHR);\r\n            console.log(textStatus);\r\n            console.log(errorThrown); \r\n        }\r\n    });\r\n}\r\n\r\n//指定月の合計金額を作成\r\nfunction createSumData(){\r\n    const table = document.createElement('table');\r\n    \r\n    table.id = 'tblMonth';\r\n    table.className = 'table';\r\n\r\n    row = table.insertRow();\r\n    row.insertCell().appendChild(document.createTextNode('家賃'));\r\n    row.insertCell().appendChild(document.createTextNode(data['data']['yatin']));\r\n\r\n    row = table.insertRow();\r\n    row.insertCell().appendChild(document.createTextNode('食費'));\r\n    row.insertCell().appendChild(document.createTextNode(data['data']['eat']));\r\n\r\n    row = table.insertRow();\r\n    row.insertCell().appendChild(document.createTextNode('ガス代'));\r\n    row.insertCell().appendChild(document.createTextNode(data['data']['gasu']));\r\n\r\n    row = table.insertRow();\r\n    row.insertCell().appendChild(document.createTextNode('電気代'));\r\n    row.insertCell().appendChild(document.createTextNode(data['data']['denki']));\r\n\r\n    row = table.insertRow();\r\n    row.insertCell().appendChild(document.createTextNode('水道代'));\r\n    row.insertCell().appendChild(document.createTextNode(data['data']['suidou']));\r\n\r\n    row = table.insertRow();\r\n    row.insertCell().appendChild(document.createTextNode('通信費'));\r\n    row.insertCell().appendChild(document.createTextNode(data['data']['tuushin']));\r\n\r\n    row = table.insertRow();\r\n    row.insertCell().appendChild(document.createTextNode('ローン'));\r\n    row.insertCell().appendChild(document.createTextNode(data['data']['loan']));\r\n\r\n    row = table.insertRow();\r\n    row.insertCell().appendChild(document.createTextNode('備考'));\r\n    row.insertCell().appendChild(document.createTextNode(data['data']['comment']));\r\n\r\n    sum = data['data']['yatin'] + data['data']['eat'] + data['data']['gasu'] + data['data']['denki'] + data['data']['suidou'] + data['data']['tuushin'] + data['data']['loan'];\r\n\r\n    row = table.insertRow();\r\n    row.insertCell().appendChild(document.createTextNode('合計'));\r\n    row.insertCell().appendChild(document.createTextNode(sum));\r\n\r\n    document.getElementById('tableShowData').appendChild(table);\r\n}"],"sourceRoot":""}