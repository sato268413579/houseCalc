{"version":3,"sources":["webpack://my-webpack-project/./resources/js/monthRegister.js"],"names":["window","register","Date","getMonth","slice","$","ajax","headers","attr","url","type","data","JSON","stringify","document","getElementById","value","success","result","confirm","dataType","alert","location","reload","error","jqXHR","textStatus","errorThrown","console","log"],"mappings":"AAAAA,OAAOC,SAAW,YAED,MADD,IAAIC,MACUC,WAAa,IAAIC,OAAO,GAClDC,EAAEC,KAAK,CACHC,QAAS,CAAE,eAAgBF,EAAE,2BAA2BG,KAAK,YAC7DC,IAAK,aACLC,KAAM,OACNC,KAAMC,KAAKC,UAAU,CACjB,QAAWC,SAASC,eAAe,WAAWC,QAElDC,QAAS,SAAUN,GACQ,IAAnBA,EAAI,OACJO,OAASlB,OAAOmB,QAAQ,sBAGxBD,OAASlB,OAAOmB,QAAQ,qBAIxBD,QACAb,EAAEC,KAAK,CACHC,QAAS,CAAE,eAAgBF,EAAE,2BAA2BG,KAAK,YAC7DC,IAAK,YACLW,SAAU,OACVV,KAAM,OACNC,KAAMC,KAAKC,UAAU,CACjB,MAASC,SAASC,eAAe,WAAWC,MAE5C,MAASF,SAASC,eAAe,SAASC,MAC1C,QAAWF,SAASC,eAAe,WAAWC,MAC9C,QAAWF,SAASC,eAAe,WAAWC,MAC9C,SAAYF,SAASC,eAAe,YAAYC,MAChD,UAAaF,SAASC,eAAe,aAAaC,MAClD,SAAYF,SAASC,eAAe,YAAYC,MAChD,QAAWF,SAASC,eAAe,QAAQC,MAC3C,QAAWF,SAASC,eAAe,WAAWC,QAElDC,QAAS,SAAUN,GACXA,EAAI,SACJU,MAAM,iBACNC,SAASC,WAGjBC,MAAO,SAAUC,EAAOC,EAAYC,GAAeN,MAAM,gBAAiBO,QAAQC,IAAIJ,GAAQG,QAAQC,IAAIH,GAAaE,QAAQC,IAAIF,OAI/IH,MAAO,SAAUC,EAAOC,EAAYC,GAAeN,MAAM,kBAAmBO,QAAQC,IAAIJ,GAAQG,QAAQC,IAAIH,GAAaE,QAAQC,IAAIF","file":"/js/monthRegister.js","sourcesContent":["window.register = function () {\r\n    var today = new Date();\r\n    var month = (\"0\" + (today.getMonth() + 1)).slice(-2);\r\n    $.ajax({\r\n        headers: { 'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content') },\r\n        url: '/dataCheck',\r\n        type: 'POST',\r\n        data: JSON.stringify({\r\n            'toMonth': document.getElementById('toMonth').value,\r\n        }),\r\n        success: function (data) {\r\n            if (data['result'] === 0) {\r\n                result = window.confirm('データを登録します。よろしいですか？');\r\n            }\r\n            else {\r\n                result = window.confirm('データが存在します。更新しますか？');\r\n            }\r\n\r\n            //登録する場合\r\n            if (result) {\r\n                $.ajax({\r\n                    headers: { 'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content') },\r\n                    url: '/register',\r\n                    dataType: 'JSON',\r\n                    type: 'POST',\r\n                    data: JSON.stringify({\r\n                        'month': document.getElementById('toMonth').value,\r\n                        // 'syunyu':document.getElementById('syunyu').value,\r\n                        'yatin': document.getElementById('yatin').value,\r\n                        'syokuhi': document.getElementById('syokuhi').value,\r\n                        'gasudai': document.getElementById('gasudai').value,\r\n                        'denkidai': document.getElementById('denkidai').value,\r\n                        'suidoudai': document.getElementById('suidoudai').value,\r\n                        'tuusinhi': document.getElementById('tuusinhi').value,\r\n                        'loandai': document.getElementById('loan').value,\r\n                        'comment': document.getElementById('comment').value,\r\n                    }),\r\n                    success: function (data) {\r\n                        if (data['result']) {\r\n                            alert('データ登録が完了しました！');\r\n                            location.reload();\r\n                        }\r\n                    },\r\n                    error: function (jqXHR, textStatus, errorThrown) { alert('データ登録に失敗しました'); console.log(jqXHR); console.log(textStatus); console.log(errorThrown); }\r\n                })\r\n            }\r\n        },\r\n        error: function (jqXHR, textStatus, errorThrown) { alert('データチェックに失敗しました'); console.log(jqXHR); console.log(textStatus); console.log(errorThrown); }\r\n    })\r\n}\r\n\r\nfunction getMonthData(){\r\n    \r\n    $.ajax({\r\n        headers: { 'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content') },\r\n        url: '/getAjaxData',\r\n        dataType: 'JSON',\r\n        type: 'POST',\r\n        data: JSON.stringify({\r\n            'toMonth': document.getElementById('toMonth').value,\r\n        }),\r\n        success: function (data) {\r\n            monthData = data['data'];\r\n            if (monthData.length !== 0) {\r\n                document.getElementById('syokuhi').value = data['eat'];\r\n                document.getElementById('gasudai').value = monthData['gasu'];\r\n                document.getElementById('denkidai').value = monthData['denki'];\r\n                document.getElementById('suidoudai').value = monthData['suidou'];\r\n                document.getElementById('tuusinhi').value = monthData['tuushin'];\r\n                document.getElementById('loan').value = monthData['loan'];\r\n                document.getElementById('comment').value = monthData['comment'];\r\n            }\r\n            else{\r\n                alert('データが存在しません');\r\n            }\r\n        },\r\n        error: function (jqXHR, textStatus, errorThrown) { alert('データ登録に失敗しました'); console.log(jqXHR); console.log(textStatus); console.log(errorThrown); }\r\n    })\r\n}"],"sourceRoot":""}